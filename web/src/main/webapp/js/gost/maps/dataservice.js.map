/* This file is generated â€” do not edit by hand! */
/* eslint-disable */
{"version":3,"sources":["dataservice.js"],"names":["require","secret","window","managementApp","application","secret_app_id","orgStruct","adminsHeaders","cr","common","headers","contentType","dataType","commonPostPromise","controller","method","data","Promise","resolve","reject","$","ajax","extend","url","type","JSON","stringify","success","error","err","commonDeletePromise","id","deletePromise","params","Object","keys","map","x","join","dataService","saveOrganization","save","saveGovernmentPerson","saveTypeOrganization","saveGroupOrganizations","saveDivision","saveDivisionPerson","removeCurator","deleteGovernment","deleteTypeOrganization","deleteOrganization","deleteGroupOrganizations","deleteDivision","removeDivisionPerson","saveOrganizationPerson","getPersons","removePersonOrgan","removeAttachment","item","processData"],"mappings":"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","file":"../dataservice.js","sourcesContent":["/* eslint-disable */\r\nrequire(['SHARED/jquery', 'SHARED/jqueryUI', 'SHARED/bluebird'], $ => {\r\n    const secret = !!window.managementApp ? window.managementApp.application.secret_app_id : window.orgStruct.adminsHeaders['gtn.access.appid'];\r\n    const cr = !!window.managementApp ? window.managementApp.cr : window.orgStruct.cr;\r\n\r\n    const common = {\r\n        headers: { 'gtn.access.appid': secret },\r\n        contentType: 'application/json',\r\n        dataType: 'json'\r\n    };\r\n\r\n    const commonPostPromise = (controller, method, data) => new Promise(function (resolve, reject) {\r\n        $.ajax($.extend({}, common, {\r\n            url: `${cr}${controller}/${method}.action`,\r\n            type: 'POST',\r\n            data: JSON.stringify(data),\r\n            success(data) {\r\n                resolve(data);\r\n            },\r\n            error(err) {\r\n                reject(err);\r\n            }\r\n        }));\r\n    });\r\n\r\n    const commonDeletePromise = (controller, method, id) => new Promise(function (resolve, reject) {\r\n        $.ajax($.extend({}, common, {\r\n            url: `${cr}${controller}/${method}.action?id=${id}`,\r\n            type: 'DELETE',\r\n            success(data) {\r\n                resolve(data);\r\n            },\r\n            error(err) {\r\n                reject(err);\r\n            }\r\n        }));\r\n    });\r\n    \r\n    const deletePromise = (controller, method, params) => new Promise(function (resolve, reject) {\r\n        $.ajax($.extend({}, common, {\r\n            url: `${cr}/${controller}/${method}.action?` + Object.keys(params).map(x => `${x}=${params[x]}`).join('&'),\r\n            type: 'DELETE',\r\n            success(data) {\r\n                resolve(data);\r\n            },\r\n            error(err) {\r\n                reject(err);\r\n            }\r\n        }));\r\n    });\r\n\r\n    window.dataService = (window.dataService || {\r\n        saveOrganization: data => commonPostPromise('subdivision', 'saveOrganization', data),\r\n        save: data => commonPostPromise('government', 'saveGovernment', data),\r\n        saveGovernmentPerson: data => commonPostPromise('government', 'saveGovernmentPerson', data),\r\n        saveTypeOrganization: data => commonPostPromise('subdivision', 'saveTypeOrganization', data),\r\n        saveGroupOrganizations: data => commonPostPromise('subdivision', 'saveGroupOrganizations', data),\r\n        saveDivision: data => commonPostPromise('government', 'saveDivision', data),\r\n        saveDivisionPerson: data => commonPostPromise('government', 'saveDivisionPerson', data),\r\n        removeCurator: id => commonDeletePromise('government', 'removeCurator', id),\r\n        deleteGovernment: id => commonDeletePromise('government', 'deleteGovernment', id),\r\n        deleteTypeOrganization: id => commonDeletePromise('subdivision', 'deleteTypeOrganization', id),\r\n        deleteOrganization: id => commonDeletePromise('subdivision', 'deleteOrganization', id),\r\n        deleteGroupOrganizations: id => commonDeletePromise('subdivision', 'deleteGroupOrganizations', id),\r\n        deleteDivision: id => commonDeletePromise('government', 'deleteDivision', id),\r\n        removeDivisionPerson: id => commonDeletePromise('government', 'removeDivisionPerson', id),\r\n        saveOrganizationPerson: data => commonPostPromise('subdivision', 'saveOrganizationPerson', data),\r\n        getPersons: data => commonPostPromise('government', 'getPersons', data),\r\n        removePersonOrgan: data => deletePromise('rest-api/orgStructure', 'removePersonOrgan', data),\r\n        removeAttachment: id => new Promise(function (resolve, reject) {\r\n            $.ajax($.extend({}, common, {\r\n                url: `${cr}file/removeAttachment.action?id=${item.id}`,\r\n                type: 'POST',\r\n                success(data) {\r\n                    resolve(data);\r\n                },\r\n                error(err) {\r\n                    reject(err);\r\n                },\r\n                processData: false,\r\n                contentType: false\r\n            }));\r\n        })\r\n    });\r\n});"]}